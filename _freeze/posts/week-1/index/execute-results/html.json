{
  "hash": "b396eab7ff5a882ba35d748fe7c8f4b6",
  "result": {
    "markdown": "---\ntitle: \"Sunset Climate Zones and Taxonomy\"\nsubtitle: \"Week 1\"\nauthor: \"Kyle Nessen\"\ndate: \"2024-01-11\"\ntoc: true\ncategories: []\nformat: \n   html:\n     df-print: kable\nexecute:\n  echo: false\n---\n\n\n\n\n## Previous week meeting notes\n\n-   Matt and May like the blog format. Agreed a new post each week to document work done is a nice path forward.\n-   I created an account with SelecTree. May working on getting me admin access.\n-   Sunset Zones were identified as a priority. I offered to look into scraping the data form some online source.\n-   Matt wants me to run all selecTree names through some taxonomic name parser, such as the [Taxonomic Name Resolution Service](https://tnrs.biendata.org/) or the [GBIF Name Parser](https://www.gbif.org/tools/name-parser).\n-   I offered to export subsets of the dataset that can be handed off to undergrads to help fill out.\n\n## Sunset climate zones\n\nWhen I offered to scrape the Sunset Climate Zones, I didn't realize that the information was *only* in The New Western Garden Book. That obviously complicates my scraping plans, but I have a few ideas.\n\n### Manually enter missing zones\n\nThis is the most direct way to get to the primary source for our missing trees. Fortunately, there are only `71` missing species, so I think this is the way to go. Below I list the first ten species with missing Sunset Zones as an example. I've also included a link to the SelecTree page.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Species with Missing Sunset Zones (first 10)</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Tree ID </th>\n   <th style=\"text-align:left;\"> Scientific Name </th>\n   <th style=\"text-align:left;\"> SelecTree URL </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 1829 </td>\n   <td style=\"text-align:left;\"> Aextoxicon punctatum </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1829\">https://selectree.calpoly.edu/tree-detail/1829</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1831 </td>\n   <td style=\"text-align:left;\"> Aristotelia chilensis </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1831\">https://selectree.calpoly.edu/tree-detail/1831</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1832 </td>\n   <td style=\"text-align:left;\"> Austrocedrus chilensis </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1832\">https://selectree.calpoly.edu/tree-detail/1832</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1860 </td>\n   <td style=\"text-align:left;\"> Beilschmiedia berteroana </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1860\">https://selectree.calpoly.edu/tree-detail/1860</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1833 </td>\n   <td style=\"text-align:left;\"> Beilschmiedia miersii </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1833\">https://selectree.calpoly.edu/tree-detail/1833</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1984 </td>\n   <td style=\"text-align:left;\"> Beilschmiedia tarairi </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1984\">https://selectree.calpoly.edu/tree-detail/1984</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1986 </td>\n   <td style=\"text-align:left;\"> Ceratopetalum gummiferum </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1986\">https://selectree.calpoly.edu/tree-detail/1986</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1989 </td>\n   <td style=\"text-align:left;\"> Dacrycarpus dacrydioides </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1989\">https://selectree.calpoly.edu/tree-detail/1989</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1990 </td>\n   <td style=\"text-align:left;\"> Dacrydium cupressinum </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1990\">https://selectree.calpoly.edu/tree-detail/1990</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1836 </td>\n   <td style=\"text-align:left;\"> Dasyphyllum diacanthoides </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/1836\">https://selectree.calpoly.edu/tree-detail/1836</a> </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\n#### Google Sheets\n\nI've prepared a Google Sheet to help with data entry. It contains all the species with missing sunset zones, as well as a column for each zone. It should be fairly straightforward to enter the information, simply check the box for each applicable zone. The \"completed\" column is there to indicate of that species is done.\n\n\n```{=html}\n<div style=\"text-align: center;\">\n    <a href=\"https://docs.google.com/spreadsheets/d/1UbOgSVUpEaFNp5VYTVouyZxMEbmX1AzWX788KbxMfuQ/edit?usp=sharing\" target=\"_blank\" style=\"background-color: #4CAF50; /* Green */\n        border: none;\n        color: white;\n        padding: 20px 40px; /* Size of the button */\n        text-align: center;\n        text-decoration: none;\n        display: inline-block;\n        font-size: 16px; /* Font size */\n        margin: 4px 2px;\n        cursor: pointer;\n        border-radius: 12px;\">SelecTree - Missing Sunset Climate Zones</a>\n</div>\n```\n\n### Scrape other sites\n\nIf, for some reason, we want to rebuild the Sunset Zone information for this database, there are a number of sites that contain the information. We would likely need to piece together several sites to cover the whole SelecTree dataset. I've listed a few below.\n\n-   <https://www.gardenia.net/>\n\n-   <https://calscape.org/>\n\n-   <https://pfaf.org/>\n\n-   <https://davesgarden.com/>\n\nPlease note, however, that each site would represent its own coding endeavor, multiplying the work for each site added. I don't think we should go down this path unless it's warranted, but I wanted to make the option explicit here.\n\n### Reinvent a better wheel\n\nLooking into the Sunset Climate Zones has me wondering, \"can we do this better?\"\n\nFrom my understanding, the Sunset Zones take climatic characteristics relevant to plants, group them into a finite number of zones, and map them across the Western US.\n\nIt seems unlikely that Editors of Western Garden Book had access to *millions* of tree points and modern weather data when they wrote the original edition. No doubt, the book is a major accomplishment, but I wonder what could be done with a data driven approach with the information at our disposal.\n\nThis \"better climate zones\" project would no doubt take a lot of effort (maybe a master's?), so I'm not suggesting we do this now. You have also probably already explored this idea and may be working on it now or there's some complication I'm not aware of. Still, I think it's worth bringing up, as such a product would make SelecTree stand out even more than it does now. We might be the only ones in the world right now who have the data to make it happen. For what it's worth!\n\n## Taxonomy\n\nI took the full list of names in selectTree and did a bit of cleaning. There wasn't a lot to do here in the end, I simply removed any double spaces (12 species in total) and fixed stray HTML tags (hybrid designation \\`&times\\`).\n\nWhile poking around in the data, I noticed [Brugmansia 'Charles Grimaldi'](https://selectree.calpoly.edu/tree-detail/222) is missing a specific epithet. I believe the correct name should be *Brugmansia versicolor* 'Charles Grimaldi'. This was only one opportunistic find, however.\n\nMy next step was to run all the names through GBIF to see if there are any taxonomic issues with the names. Fortunately, most names seem to be in good shape.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>GBIF Taxonomy Results</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Status </th>\n   <th style=\"text-align:right;\"> Total Count </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> ACCEPTED </td>\n   <td style=\"text-align:right;\"> 1805 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> SYNONYM </td>\n   <td style=\"text-align:right;\"> 115 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> DOUBTFUL </td>\n   <td style=\"text-align:right;\"> 6 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nThere's also a confidence interval that GBIF provides. Querying the lowest matches (80%) finds more examples like *Brugmansia,* where the epithet appears to be dropped. I copy a few examples below, but a quick look indicates there are at least `43`.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Example Names Missing Specific Epithet</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> SelecTree Name </th>\n   <th style=\"text-align:left;\"> SelecTree Page </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Arbutus 'Marina' </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/174\">https://selectree.calpoly.edu/tree-detail/174</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Castanea 'Colossal' </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/270\">https://selectree.calpoly.edu/tree-detail/270</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ceanothus 'Ray Hartman' </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/282\">https://selectree.calpoly.edu/tree-detail/282</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Crataegus 'Autumn Glory' </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/444\">https://selectree.calpoly.edu/tree-detail/444</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fraxinus 'Fan-West' </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/619\">https://selectree.calpoly.edu/tree-detail/619</a> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Lagerstroemia 'Muskogee' </td>\n   <td style=\"text-align:left;\"> <a href=\"https://selectree.calpoly.edu/tree-detail/787\">https://selectree.calpoly.edu/tree-detail/787</a> </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nThere's more work to be done here to untangle what is going on. Ultimately, I would like to produce a list of tree IDs and updated names for the site. At a later meeting, we should talk about synonyms and whether or not they should be updated. Additionally, I can get deep into finding all synonyms for all species on GBIF. It seems like there is plenty left to collect. Perhaps more than is worth sharing.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}