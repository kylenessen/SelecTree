<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kyle Nessen">
<meta name="dcterms.date" content="2024-01-03">

<title>SelecTree - Getting Started</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">SelecTree</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Getting Started</h1>
            <p class="subtitle lead">Week 0</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Kyle Nessen </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 3, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#purpose" id="toc-purpose" class="nav-link active" data-scroll-target="#purpose">Purpose</a></li>
  <li><a href="#import-issues" id="toc-import-issues" class="nav-link" data-scroll-target="#import-issues">Import Issues</a></li>
  <li><a href="#master-database-elsewhere" id="toc-master-database-elsewhere" class="nav-link" data-scroll-target="#master-database-elsewhere">Master Database Elsewhere?</a></li>
  <li><a href="#missing-data" id="toc-missing-data" class="nav-link" data-scroll-target="#missing-data">Missing Data</a></li>
  <li><a href="#extra-spaces-in-names" id="toc-extra-spaces-in-names" class="nav-link" data-scroll-target="#extra-spaces-in-names">Extra Spaces in Names</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="purpose" class="level2">
<h2 class="anchored" data-anchor-id="purpose">Purpose</h2>
<p>Matt and I met today to discuss how I can contribute to improving the <a href="https://selectree.calpoly.edu/">SelecTree</a> database. What was asked of me was to explore the dataset as it stands now, find areas where we can spend useful effort, and report back with a short document. This web page serves as that report.</p>
</section>
<section id="import-issues" class="level2">
<h2 class="anchored" data-anchor-id="import-issues">Import Issues</h2>
<p>Initially, I had some confusing results when trying to naively import the csv to R. The read_csv function tries to guess the data type for each column, and it did so poorly for many of them. Normally I won’t show code, but I’m including a block here for future reference as I manually reviewed each column to get it to load correctly. This should hopefully save time in the future for anyone trying to recreate the import.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> treedata_20240103 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"treedata_20240103.csv"</span>, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">generic_2 =</span> <span class="fu">col_character</span>(), </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">pacific_island =</span> <span class="fu">col_logical</span>(), <span class="at">display =</span> <span class="fu">col_logical</span>(), </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">california_native =</span> <span class="fu">col_logical</span>(), </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ca_invasive =</span> <span class="fu">col_logical</span>(), <span class="at">hi_native =</span> <span class="fu">col_logical</span>(), </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">invasive_text =</span> <span class="fu">col_character</span>(), </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">foliage_fall_color =</span> <span class="fu">col_logical</span>(), </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">fragrance =</span> <span class="fu">col_logical</span>(), <span class="at">usda_zone =</span> <span class="fu">col_character</span>(), </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">pest_resistant =</span> <span class="fu">col_character</span>(), </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">deer_palatable =</span> <span class="fu">col_character</span>(), </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">schoolyard =</span> <span class="fu">col_logical</span>()), <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="master-database-elsewhere" class="level2">
<h2 class="anchored" data-anchor-id="master-database-elsewhere">Master Database Elsewhere?</h2>
<p>The import issues and scrolling through the data makes me suspicious that this csv is a “shadow” of some more robust database stored elsewhere. Many of the columns, which I’ll explore below, appear to extract values from database tables and transform them to fit into a typical spreadsheet.</p>
<p>As an example, let’s look at sunset zones.</p>
<div class="cell">
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 33%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">displayed_scientific_name</th>
<th style="text-align: left;">sunset_zone</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Abies amabilis</td>
<td style="text-align: left;">3,4,5,6,7,15,16,17</td>
</tr>
<tr class="even">
<td style="text-align: left;">Abies bracteata</td>
<td style="text-align: left;">6,7,8,9,14,15,16,17,18,19,20,21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Abies concolor</td>
<td style="text-align: left;">1,2,3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24</td>
</tr>
<tr class="even">
<td style="text-align: left;">Abies concolor ‘Violacea’</td>
<td style="text-align: left;">1,2,3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Abies firma</td>
<td style="text-align: left;">1,2,3,4,5,6,7,8,9,14,15,16,17</td>
</tr>
<tr class="even">
<td style="text-align: left;">Abies grandis</td>
<td style="text-align: left;">1,2,3,4,5,6,7,8,9,14,15,16,17</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>While these sunset zones are orderly and structured, having them listed as values separated by commas is difficult to use in any practical computer setting. For example, how would you find all trees that occur in sunset zone 5? You can’t simply search for “5” in the column, as zone 15 exists.</p>
<p>A more practical way to address this type of information is to make a table entirely dedicated to sunset zones, where each zone gets a unique column. The value for each that column is simply <code>true</code> or <code>false</code>, accompanied by the species name or tree ID:</p>
<div class="cell">
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 12%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">displayed_scientific_name</th>
<th style="text-align: left;">zone_1</th>
<th style="text-align: left;">zone_2</th>
<th style="text-align: left;">zone_3</th>
<th style="text-align: left;">zone_4</th>
<th style="text-align: left;">zone_5</th>
<th style="text-align: left;">zone_6</th>
<th style="text-align: left;">zone_7</th>
<th style="text-align: left;">zone_8</th>
<th style="text-align: left;">zone_9</th>
<th style="text-align: left;">zone_10</th>
<th style="text-align: left;">zone_11</th>
<th style="text-align: left;">zone_12</th>
<th style="text-align: left;">zone_13</th>
<th style="text-align: left;">zone_14</th>
<th style="text-align: left;">zone_15</th>
<th style="text-align: left;">zone_16</th>
<th style="text-align: left;">zone_17</th>
<th style="text-align: left;">zone_18</th>
<th style="text-align: left;">zone_19</th>
<th style="text-align: left;">zone_20</th>
<th style="text-align: left;">zone_21</th>
<th style="text-align: left;">zone_22</th>
<th style="text-align: left;">zone_23</th>
<th style="text-align: left;">zone_24</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Abies amabilis</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Abies bracteata</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Abies concolor</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Abies concolor ‘Violacea’</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Abies firma</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Abies grandis</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">FALSE</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>This way you can simply filter by the zone you’re interested in. In excel, you would simply filter out all <code>false</code> values in the <code>zone_5</code> column.</p>
<p>I strongly suspect a table like this exists somewhere, and someone wrote a bit of code to condense into the comma separated list you see in the export. And if that is not the case, it really should be.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Possible Directions
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>I could work on updating this fully expanded table for all species by scraping some online data source. At the very least, I can search for species that do not have this information.</p></li>
<li><p>We could meet with the data people to see if they have a table like this already, and if not, we could work with them to create one. Alternatively, I can make a tool for you to expand this table as needed.</p></li>
</ol>
</div>
</div>
<p>Many other columns fall into this table-compressed-to-a-column category. Essentially any column that contains (or can contain) multiple pieces of information within the same cell. Below I list the columns that I found which I believe should be expanded to separate tables:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Expandable Columns</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">attracts_wildlife</td>
<td style="text-align: left;">foliage_growth_color</td>
<td style="text-align: left;">pest_resistant</td>
</tr>
<tr class="even">
<td style="text-align: left;">bark_color</td>
<td style="text-align: left;">fruit_value</td>
<td style="text-align: left;">pest_susceptibility</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bark_texture</td>
<td style="text-align: left;">fruiting_time</td>
<td style="text-align: left;">photolocations</td>
</tr>
<tr class="even">
<td style="text-align: left;">disease_resistant</td>
<td style="text-align: left;">health_hazard</td>
<td style="text-align: left;">soil_texture</td>
</tr>
<tr class="odd">
<td style="text-align: left;">disease_susceptibility</td>
<td style="text-align: left;">landscape_application</td>
<td style="text-align: left;">sunset_zone</td>
</tr>
<tr class="even">
<td style="text-align: left;">flower_color</td>
<td style="text-align: left;">landscape_use</td>
<td style="text-align: left;">tree_shape</td>
</tr>
<tr class="odd">
<td style="text-align: left;">flower_time</td>
<td style="text-align: left;">litter_type</td>
<td style="text-align: left;">usda_zone</td>
</tr>
<tr class="even">
<td style="text-align: left;">foliage_fall_color</td>
<td style="text-align: left;">native_range</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Possible Directions
</div>
</div>
<div class="callout-body-container callout-body">
<p>Each column presents a new effort for documenting tree characteristics. We could explore which columns are highest priority.</p>
</div>
</div>
</section>
<section id="missing-data" class="level2">
<h2 class="anchored" data-anchor-id="missing-data">Missing Data</h2>
<p>I believe a complete table should have no empty cells. As it stands now, most of the columns are incomplete. I’ve generated a table below that shows what percentage of the cells have values for each column.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Column Completeness by Percentage</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Column</th>
<th style="text-align: right;">%</th>
<th style="text-align: left;">Column</th>
<th style="text-align: right;">%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">display</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: left;">usda_zone</td>
<td style="text-align: right;">92.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">displayed_scientific_name</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: left;">growth_rate_low</td>
<td style="text-align: right;">92.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">family</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: left;">width_low</td>
<td style="text-align: right;">92.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">hi_native</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: left;">bark_color</td>
<td style="text-align: right;">91.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">pacific_island</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: left;">bark_texture</td>
<td style="text-align: right;">90.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">schoolyard</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: left;">flower_time</td>
<td style="text-align: right;">88.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tree_id</td>
<td style="text-align: right;">100.0</td>
<td style="text-align: left;">root_damage_potential</td>
<td style="text-align: right;">87.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">ca_invasive</td>
<td style="text-align: right;">99.9</td>
<td style="text-align: left;">fruiting_time</td>
<td style="text-align: right;">87.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">california_native</td>
<td style="text-align: right;">99.9</td>
<td style="text-align: left;">saltspray_tolerance</td>
<td style="text-align: right;">81.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">displayed_common_name</td>
<td style="text-align: right;">99.9</td>
<td style="text-align: left;">photolocations</td>
<td style="text-align: right;">81.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">leaf_form</td>
<td style="text-align: right;">99.9</td>
<td style="text-align: left;">flower_showiness</td>
<td style="text-align: right;">77.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">native_range</td>
<td style="text-align: right;">99.9</td>
<td style="text-align: left;">litter_type</td>
<td style="text-align: right;">77.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">leaf_arrangement</td>
<td style="text-align: right;">99.8</td>
<td style="text-align: left;">landscape_application</td>
<td style="text-align: right;">76.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">height_high</td>
<td style="text-align: right;">99.5</td>
<td style="text-align: left;">branch_strength_high</td>
<td style="text-align: right;">72.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">foliage_type</td>
<td style="text-align: right;">99.4</td>
<td style="text-align: left;">branch_strength_low</td>
<td style="text-align: right;">72.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">height_low</td>
<td style="text-align: right;">99.4</td>
<td style="text-align: left;">health_hazard</td>
<td style="text-align: right;">71.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">water_use</td>
<td style="text-align: right;">99.0</td>
<td style="text-align: left;">flower_color</td>
<td style="text-align: right;">68.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">memo</td>
<td style="text-align: right;">98.9</td>
<td style="text-align: left;">disease_susceptibility</td>
<td style="text-align: right;">67.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">exposure_high</td>
<td style="text-align: right;">98.8</td>
<td style="text-align: left;">pest_susceptibility</td>
<td style="text-align: right;">64.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">exposure_low</td>
<td style="text-align: right;">98.8</td>
<td style="text-align: left;">attracts_wildlife</td>
<td style="text-align: right;">60.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">tree_shape</td>
<td style="text-align: right;">98.3</td>
<td style="text-align: left;">alternative_common_names</td>
<td style="text-align: right;">52.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">foliage_fall_color</td>
<td style="text-align: right;">98.0</td>
<td style="text-align: left;">flower_type</td>
<td style="text-align: right;">51.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">planting_area</td>
<td style="text-align: right;">97.7</td>
<td style="text-align: left;">synonyms</td>
<td style="text-align: right;">35.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">foliage_growth_color</td>
<td style="text-align: right;">96.9</td>
<td style="text-align: left;">app_grrating</td>
<td style="text-align: right;">32.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">soil_texture</td>
<td style="text-align: right;">96.5</td>
<td style="text-align: left;">app_lcant</td>
<td style="text-align: right;">32.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">fruit_type</td>
<td style="text-align: right;">96.4</td>
<td style="text-align: left;">appraisal</td>
<td style="text-align: right;">32.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sunset_zone</td>
<td style="text-align: right;">96.3</td>
<td style="text-align: left;">disease_resistant</td>
<td style="text-align: right;">31.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">generic_1</td>
<td style="text-align: right;">96.0</td>
<td style="text-align: left;">landscape_use</td>
<td style="text-align: right;">29.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">soil_ph_high</td>
<td style="text-align: right;">95.8</td>
<td style="text-align: left;">fruit_value</td>
<td style="text-align: right;">28.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">soil_ph_low</td>
<td style="text-align: right;">95.8</td>
<td style="text-align: left;">deer_palatable</td>
<td style="text-align: right;">26.8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fragrance</td>
<td style="text-align: right;">95.5</td>
<td style="text-align: left;">salinity_tolerance</td>
<td style="text-align: right;">26.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">leaflet_shape</td>
<td style="text-align: right;">95.3</td>
<td style="text-align: left;">biogenic_emissions</td>
<td style="text-align: right;">16.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">width_high</td>
<td style="text-align: right;">92.7</td>
<td style="text-align: left;">ethnobotanical_info</td>
<td style="text-align: right;">10.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">fruit_color</td>
<td style="text-align: right;">92.5</td>
<td style="text-align: left;">invasive_text</td>
<td style="text-align: right;">3.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">growth_rate_high</td>
<td style="text-align: right;">92.5</td>
<td style="text-align: left;">pest_resistant</td>
<td style="text-align: right;">1.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">fruit_size</td>
<td style="text-align: right;">92.4</td>
<td style="text-align: left;">generic_2</td>
<td style="text-align: right;">0.3</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Possible Directions
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>I could generate lists of species that have missing values for each column, and get your undergrad to help find the missing info</li>
<li>We could focus on finishing many of the near complete columns</li>
<li>Or rank these columns based on priority and make progress on underrepresented information</li>
</ol>
</div>
</div>
</section>
<section id="extra-spaces-in-names" class="level2">
<h2 class="anchored" data-anchor-id="extra-spaces-in-names">Extra Spaces in Names</h2>
<p>When we first looked at this dataset, I noticed there was some weird things happening with the names. Specifically, extra spaces were finding their way into the names. I’ve copied a list of names that have additional spaces, which I have confirmed carries through to the website. I’m sure it’s a pretty easy fix on their end. These are all additional spaces between the genus and specific epithet.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Names with Spacing Issues</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Andira inermis</td>
<td style="text-align: left;">Fagraea fragrans</td>
</tr>
<tr class="even">
<td style="text-align: left;">Areca vestiaria</td>
<td style="text-align: left;">Ficus dammaropsis</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Butea monosperma</td>
<td style="text-align: left;">Ficus pseudopalma</td>
</tr>
<tr class="even">
<td style="text-align: left;">Callistemon brachyandra</td>
<td style="text-align: left;">Malosma laurina</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cornus nutallii</td>
<td style="text-align: left;">Plerandra elegantissima</td>
</tr>
<tr class="even">
<td style="text-align: left;">Elaeis guineensis</td>
<td style="text-align: left;">Vitex trifolia</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Possible Directions
</div>
</div>
<div class="callout-body-container callout-body">
<p>Send this list to web site maintainers to fix.</p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>